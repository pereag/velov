{"code":"!function(e){var t={};function s(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=e,s.c=t,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,\"a\",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p=\"\",s(s.s=0)}([function(e,t,s){\"use strict\";s.r(t);var n=class{constructor(e,t){this.logo=e,this.pageLoader=t}play(){this.pageLoader.classList.add(\"desactive-loader\")}};var i=class{constructor(e,t,s,n){this.id=e,this.location={lat:t,lng:s},this.map=!1,this.zoomMap=n,this.marker=[],this.response=!1,this.mapStyle=[{elementType:\"geometry\",stylers:[{color:\"#ffffff\"}]},{elementType:\"labels.icon\",stylers:[{visibility:\"off\"}]},{elementType:\"labels.text.fill\",stylers:[{color:\"#616161\"}]},{elementType:\"labels.text.stroke\",stylers:[{color:\"#f5f5f5\"}]},{featureType:\"administrative.country\",elementType:\"geometry.fill\",stylers:[{color:\"#ff0000\"}]},{featureType:\"administrative.land_parcel\",elementType:\"labels.text.fill\",stylers:[{color:\"#bdbdbd\"}]},{featureType:\"landscape\",stylers:[{color:\"#e9e9e9\"}]},{featureType:\"landscape.man_made\",stylers:[{color:\"#f0f0f0\"}]},{featureType:\"poi\",elementType:\"geometry\",stylers:[{color:\"#eeeeee\"}]},{featureType:\"poi\",elementType:\"labels.text.fill\",stylers:[{color:\"#757575\"}]},{featureType:\"poi.park\",elementType:\"geometry\",stylers:[{color:\"#e5e5e5\"}]},{featureType:\"poi.park\",elementType:\"labels.text.fill\",stylers:[{color:\"#9e9e9e\"}]},{featureType:\"road\",elementType:\"geometry\",stylers:[{color:\"#ffffff\"}]},{featureType:\"road.arterial\",elementType:\"labels.text.fill\",stylers:[{color:\"#757575\"}]},{featureType:\"road.highway\",elementType:\"geometry\",stylers:[{color:\"#dadada\"}]},{featureType:\"road.highway\",elementType:\"labels.text.fill\",stylers:[{color:\"#616161\"}]},{featureType:\"road.local\",elementType:\"labels.text.fill\",stylers:[{color:\"#9e9e9e\"}]},{featureType:\"transit.line\",elementType:\"geometry\",stylers:[{color:\"#e5e5e5\"}]},{featureType:\"transit.station\",elementType:\"geometry\",stylers:[{color:\"#eeeeee\"}]},{featureType:\"water\",stylers:[{color:\"#c2e9da\"}]},{featureType:\"water\",elementType:\"geometry\",stylers:[{color:\"#8db8c5\"}]},{featureType:\"water\",elementType:\"labels.text.fill\",stylers:[{color:\"#9e9e9e\"}]}]}play(){this.initMap(),this.getMarker()}initMap(){this.map=new google.maps.Map(this.id,{zoom:this.zoomMap,center:this.location,styles:this.mapStyle,mapTypeControl:!1,fullscreenControl:!1,streetViewControl:!1})}getMarker(){let e=this,t=new XMLHttpRequest;t.onreadystatechange=function(){if(this.readyState==XMLHttpRequest.DONE&&200==this.status){e.response=JSON.parse(this.responseText);let t=new Reservation(document.getElementById(\"reservation-button\"),document.getElementById(\"station-name\"),document.getElementById(\"station-address\"),document.getElementById(\"station-status\"),document.getElementById(\"velov-number\"),document.getElementById(\"map-info-station\"),document.getElementById(\"error-info-station\"),document.getElementById(\"map-reservation\"),document.getElementById(\"delete\"),document.getElementById(\"send\"),document.getElementById(\"reservation-firstName\"),document.getElementById(\"reservation-name\"),document.getElementById(\"error-reservation\"),document.getElementById(\"signature\"),document.getElementById(\"form-reservation\"),document.getElementById(\"confirmation-message\"),document.getElementById(\"reservation-box-text\"),document.getElementById(\"reservation-box-timer\"),document.getElementById(\"reservation-box\"));t.play();for(let s=0;s<e.response.length;s++){let n=new Station(e.response[s],document.getElementById(\"station-name\"),document.getElementById(\"station-address\"),document.getElementById(\"station-status\"),document.getElementById(\"velov-number\"));e.marker[s]=new google.maps.Marker({position:n.position,map:e.map,icon:{url:\"images/station.png\"}}),e.marker[s].addListener(\"click\",function(){\"\"!==t.errorReservationId.innerHTML&&(t.errorReservationId.innerHTML=\"\"),t.displayDivStationInfos(),e.displayInfoStation(n)})}}},t.open(\"GET\",\"https://api.jcdecaux.com/vls/v1/stations?contract=lyon&apiKey=43f89aec196d8dc961aef4bfbde0b6a681dff5df\"),t.send()}displayInfoStation(e){e.nameId.innerHTML=e.name.toLowerCase(),e.addressId.innerHTML=e.address.charAt(0).toUpperCase()+e.address.substring(1).toLowerCase(),\"OPEN\"==e.status?e.statusId.innerHTML=\"Ouverte\":\"CLOSED\"==e.status?e.statusId.innerHTML=\"FermÃ©e\":e.statusId.innerHTML=e.status,e.velovNumberId.innerHTML=e.velovNumber}};var o=class{constructor(e){this.text=e}animation(){this.text.style.opacity=1,this.text.style.transition=\"opacity 3s\"}};var a=class{constructor(e,t,s,n,i,o,a,l,r){this.id=e,this.leftButton=t,this.rightButton=s,this.stopButton=n,this.stopButtonPlay=i,this.stopButtonPause=o,this.valueButtonActive=a,this.valueButtonDesactive=l,this.arrowLeft=!1,this.arrowRight=!1,this.time=r,this.image=1,this.autoPlay=window.setInterval(()=>{this.manualPlay,this.image<4?this.next():4==this.image&&this.goFirstImage()},this.time)}init(){this.manualPlay(this.leftButton),this.manualPlay(this.rightButton),this.manualPlay(this.stopButton)}changeImage(){this.id.style.background=\"url(images/image-\"+this.image+\".jpg)\"}previous(){this.image=this.image-1,this.changeImage()}next(){this.image=this.image+1,this.changeImage()}stop(){clearInterval(this.autoPlay),this.autoPlay=null}goFirstImage(){this.image=1,this.changeImage()}restart(){this.autoPlay=window.setInterval(()=>{this.manualPlay,this.image<4?this.next():this.goFirstImage()},this.time)}displayStopButton(){this.id.addEventListener(\"mouseover\",()=>{document.getElementById(\"slideshow-pausePlayButton\").classList.replace(\"mouseOut\",\"mouseOn\")}),this.id.addEventListener(\"mouseout\",()=>{document.getElementById(\"slideshow-pausePlayButton\").classList.replace(\"mouseOn\",\"mouseOut\")})}manualPlay(e){e.addEventListener(\"click\",()=>{e==this.leftButton?this.image>1&&(null!==this.autoPlay?(this.stop(),this.image=this.image-1,this.changeImage(),this.restart()):this.previous()):e==this.rightButton?this.image<4&&(null!==this.autoPlay?(this.stop(),this.next(),this.restart()):this.next()):e==this.stopButton&&(null!==this.autoPlay?(console.log(\"pause\"),this.stop(),this.stopButtonPause.classList.replace(this.valueButtonActive,this.valueButtonDesactive),this.stopButtonPlay.classList.replace(this.valueButtonDesactive,this.valueButtonActive)):(console.log(\"restart\"),this.restart(),this.stopButtonPause.classList.replace(this.valueButtonDesactive,this.valueButtonActive),this.stopButtonPlay.classList.replace(this.valueButtonActive,this.valueButtonDesactive)))}),document.addEventListener(\"keydown\",e=>{37===e.keyCode&&0==this.arrowLeft?(this.arrowLeft=!0,this.image>1&&(null!==this.autoPlay?(this.stop(),this.image=this.image-1,this.changeImage(),this.restart()):this.previous())):39===e.keyCode&&0==this.arrowRight&&(this.arrowRight=!0,this.image<4&&(null!==this.autoPlay?(this.stop(),this.next(),this.restart()):this.next())),document.addEventListener(\"keyup\",e=>{37!==e.keyCode&&39!==e.keyCode||(this.arrowLeft=!1,this.arrowRight=!1)})})}};var l=class{constructor(e,t,s,n){this.buttonMobileMenu=e,this.backgroundMobileMenu=t,this.buttonsMobilesMenu=s,this.contentMobileMenu=n}play(){this.displayContentMobileMenu(this.buttonMobileMenu),this.displayContentMobileMenu(this.backgroundMobileMenu),this.displayContentMobileMenu(this.buttonsMobilesMenu),this.listenSizeWindow()}displayContentMobileMenu(e){e.addEventListener(\"click\",()=>{this.contentMobileMenu.classList.contains(\"mobileMenu_disable\")?(this.contentMobileMenu.classList.replace(\"mobileMenu_disable\",\"mobileMenu_active\"),this.backgroundMobileMenu.classList.contains(\"mobileMenu-background_disable\")&&this.backgroundMobileMenu.classList.replace(\"mobileMenu-background_disable\",\"mobileMenu-background_active\")):this.contentMobileMenu.classList.contains(\"mobileMenu_active\")&&(this.contentMobileMenu.classList.replace(\"mobileMenu_active\",\"mobileMenu_disable\"),this.backgroundMobileMenu.classList.contains(\"mobileMenu-background_active\")&&this.backgroundMobileMenu.classList.replace(\"mobileMenu-background_active\",\"mobileMenu-background_disable\"))})}listenSizeWindow(){setInterval(()=>{window.innerWidth>900&&this.contentMobileMenu.classList.contains(\"mobileMenu_active\")&&(this.contentMobileMenu.classList.replace(\"mobileMenu_active\",\"mobileMenu_disable\"),this.backgroundMobileMenu.classList.contains(\"mobileMenu-background_active\")&&this.backgroundMobileMenu.classList.replace(\"mobileMenu-background_active\",\"mobileMenu-background_disable\"))},150)}};window.onload=function(){new n(document.getElementById(\"logo-loader\"),document.getElementById(\"loader\")).play(),new i(document.getElementById(\"api-google\"),45.75,4.85,15).play();let e=new a(document.getElementById(\"info-slideshow\"),document.getElementById(\"slideshow-leftButton\"),document.getElementById(\"slideshow-rightButton\"),document.getElementById(\"slideshow-pausePlayButton\"),document.getElementById(\"play\"),document.getElementById(\"pause\"),\"pausePlay_active\",\"pausePlay_desactive\",5e3);e.init(),e.displayStopButton(),new l(document.getElementById(\"header-mobileImg\"),document.getElementById(\"mobileMenu-background\"),document.getElementById(\"mobileMenu-buttonGroupe\"),document.getElementById(\"mobileMenu\")).play(),new o(document.getElementById(\"big-one-title\")).animation()}()}]);","extractedComments":[]}